{"version":3,"sources":["../main.js"],"names":["Flickr","require","express","app","get","req","res","json","name","version","authors","params","text","tokenOnly","api_key","secret","error","flickr","photos","search","result","photo","map","Object","assign","url","farm","server","id","listen","process","env","port"],"mappings":";;AAAA,IAAMA,SAASC,QAAQ,WAAR,CAAf;AACA,IAAMC,UAAUD,QAAQ,SAAR,CAAhB;;AAEA,IAAME,MAAMD,SAAZ;;AAEAC,IAAIC,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvBA,QAAIC,IAAJ,CAAS;AACLC,cAAM,YADD;AAELC,iBAAS,OAFJ;AAGLC,iBAAS,CACL,4BADK,EAEL,2BAFK,EAGL,8BAHK;AAHJ,KAAT;AASH,CAVD;;AAYAP,IAAIC,GAAJ,CAAQ,QAAR,EAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5BD,QAAIM,MAAJ,CAAWC,IAAX;AACAZ,WAAOa,SAAP,CAAiB;AACbC,iBAAS,kCADI;AAEbC,gBAAQ;AAFK,KAAjB,EAGG,UAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AACxBA,eAAOC,MAAP,CAAcC,MAAd,CAAqB;AACjBP,kBAAMP,IAAIM,MAAJ,CAAWC;AADA,SAArB,EAEG,UAAUI,KAAV,EAAiBI,MAAjB,EAAyB;AACxB,gBAAI,CAACJ,KAAL,EAAY;AACRI,uBAAOF,MAAP,CAAcG,KAAd,GAAsBD,OAAOF,MAAP,CAAcG,KAAd,CAAoBC,GAApB,CAAwB,iBAAS;AACnD,2BAAOC,OAAOC,MAAP,CAAcH,KAAd,EAAqB,EAACI,sBAAoBJ,MAAMK,IAA1B,0BAAmDL,MAAMM,MAAzD,SAAmEN,MAAMO,EAAzE,SAA+EP,MAAMN,MAArF,SAAD,EAArB,CAAP;AACH,iBAFqB,CAAtB;AAGAT,oBAAIC,IAAJ,CAASa,MAAT;AACH;AACJ,SATD;AAUH,KAdD;AAeH,CAjBD;;AAmBA;AACA;AACA;;AAEAjB,IAAI0B,MAAJ,CAAWC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B","file":"main.js","sourcesContent":["const Flickr = require('flickrapi');\r\nconst express = require('express');\r\n\r\nconst app = express();\r\n\r\napp.get('/', (req, res) => {\r\n    res.json({\r\n        name: 'flickr api',\r\n        version: '0.0.1',\r\n        authors: [\r\n            'Rasmus NÃ¸rskov (rhnorskov)',\r\n            'Mathias Wieland (cuntbag)',\r\n            'Andreas Sommerset (flapjack)'\r\n        ]\r\n    })\r\n});\r\n\r\napp.get('/:text', (req, res) => {\r\n    req.params.text\r\n    Flickr.tokenOnly({\r\n        api_key: \"85f11febb88e3a4d49342a95b7bcf1e8\",\r\n        secret: \"429ecaa952bd0757\"\r\n    }, function (error, flickr) {\r\n        flickr.photos.search({\r\n            text: req.params.text\r\n        }, function (error, result) {\r\n            if (!error) {\r\n                result.photos.photo = result.photos.photo.map(photo => {\r\n                    return Object.assign(photo, {url: `https://farm${photo.farm}.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}.jpg`})\r\n                });\r\n                res.json(result)\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n// export FLICKR_USER_ID=\"84174915@N08\"\r\n// export FLICKR_ACCESS_TOKEN=\"72157677679254294-afea93d392d1ac88\"\r\n// export FLICKR_ACCESS_TOKEN_SECRET=\"ea8c60ebe0656431\"\r\n\r\napp.listen(process.env.port || 4000);"]}